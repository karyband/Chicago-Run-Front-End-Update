<?xml version="1.0" encoding="utf-8" ?>
<objects xmlns="http://www.springframework.net" xmlns:db="http://www.springframework.net/database">
    <db:provider id="dbProvider"
                    provider="System.Data.SqlClient"
                    connectionString="Data Source=mychicagorun.db.9812026.hostedresource.com;Initial Catalog=myChicagoRun;User Id=mychicagorun;Password=Runner7#7%"/>

    <object id="adoTemplate" type="Spring.Data.Generic.AdoTemplate, Spring.Data" >
        <property name="DbProvider" ref="dbProvider"/>
    </object>
    <object name="accessObject" type="MT.Framework.Data.DAO, MT.Framework">
        <property name="AdoTemplate" ref="adoTemplate"/>
    </object>
    <object name="databaseAccess" type="MT.Framework.Data.DatabaseAccess, MT.Framework">
        <property name="AccessObject" ref="accessObject"/>
    </object>

    <object name="ISchoolBC" type="ChicagoRun.Logic.SchoolCacheBC, ChicagoRun.Logic" />

    <object name="SchoolDC" type="ChicagoRun.Data.SchoolDC, ChicagoRun.Data" >
        <property name="DataAccess" ref="databaseAccess"/>
    </object>

    <object name="IUserBC" type="ChicagoRun.Logic.UserCacheBC, ChicagoRun.Logic" />

    <object name="UserDC" type="ChicagoRun.Data.UserDC, ChicagoRun.Data" >
        <property name="DataAccess" ref="databaseAccess"/>
    </object>

    <object name="IMapRewardBC" type="ChicagoRun.Logic.MapRewardCacheBC, ChicagoRun.Logic" />

    <object name="MapRewardDC" type="ChicagoRun.Data.MapRewardDC, ChicagoRun.Data" >
        <property name="DataAccess" ref="databaseAccess"/>
    </object>

    <object name="IGuardianBC" type="ChicagoRun.Logic.GuardianCacheBC, ChicagoRun.Logic" />

    <object name="GuardianDC" type="ChicagoRun.Data.GuardianDC, ChicagoRun.Data" >
        <property name="DataAccess" ref="databaseAccess"/>
    </object>

    <object name="EncryptionHelper" type="MT.Framework.Helpers.EncryptionHelper, MT.Framework">
        <property name="Key" value="092012chicagorun2012"/>
    </object>
  
    <object name="databaseLogger" type="MT.Framework.ExceptionHandling.DatabaseLogger, MT.Framework">
        <property name="DataAccess" ref="databaseAccess"/>
        <property name="LogStoredProcedure" value="ExceptionLogEntry"/>
        <property name="LogParameter" value="ExceptionDetail"/>
    </object>
    
    <object name="fileLogger" type="MT.Framework.ExceptionHandling.FileLogger, MT.Framework">
        <property name="LogFileFullPath" value="C:\Temp\Logs\ChicagoRun.xml"/>
    </object>

    <object name="emailLogger" type="MT.Framework.ExceptionHandling.EmailLogger, MT.Framework">
        <property name="SmtpServer" value=""/>
        <property name="ToEmail" value="mantam123@gmail.com"/>
        <property name="FromEmail" value="mantam123@yahoo.com"/>
        <property name="Subject" value="An Error has occurred - Chicago Run"/>
    </object>
    
    <object name="ExceptionLogger" type="MT.Framework.ExceptionHandling.ExceptionLogger, MT.Framework">
        <property name="DBLogger" ref="databaseLogger"/>
        <property name="FileLogger" ref="fileLogger"/>
    </object>
    
    <object name="UrlRouter" type="MT.Framework.Web.UrlRouter, MT.Framework" singleton="true">
        <property name="RouteCharacterDelimiter" value="|" />
        <property name="Routes">
            <dictionary key-type="String" value-type="String">
                <entry key="" value=""/>
            </dictionary>
        </property>
        <property name="ValidFolders">
            <list>
                <value>Images</value>
                <value>Scripts</value>
                <value>Services</value>
                <value>Styles</value>
                <value>Documents</value>
            </list>
        </property>
    </object>
</objects>
